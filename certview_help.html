<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
<title>certview ヘルプ</title>
</head>
<body>
<div class="p-2 m-2">
<h1>certview証明書ビューアー ヘルプ・解説</h1>
<h3>はじめに</h3>
<div>
敬愛する<a href="https://understandingwebpki.com/">Peculiarの証明書ビューアー</a>や<a href="https://lapo.it/asn1js/">ASN.1 JavaScript decoder</a>のページを見てて、自分用にも作ってみたくなり<a href="https://github.com/kjur/jsrsasign">自作のjsrsasignライブラリ</a>を使って<a href="certview.html">証明書ビューアー</a>を作ってみました。機能追加や変更などはバンバン行いそうで、まだまだアルファバージョンです。よかったら遊んでやってください。
</div>
<div>
サーバー側には何も残さないですし、ログも取らないですし、ビューアーのHTMLファイル単体でも自分の環境で動きますし、クッキーも使わないですし、多分安心して使っていただけるんじゃないかと思います。
</div>

<h3>マニュアル的な説明</h3>
<h4>基本的な使い方</h4>
<a href="certview.html">証明書ビューアー</a>を開けば使っていただけるわけですが、証明書の設定方法として今のところ3通りあります。
<ol>
<li>フォームのテキストエリアに以下のいずれかを入力して「設定」を押す:
  <ol>
  <li>PEM形式の証明書をテキストボックスに貼り付ける。</li>
  <li>ドメイン名をテキストボックスに入力する。この場合、SSLMateのCTログAPIを使って得られたリストの最後の証明書が表示されます。サイトに設定されているものとは違う可能性もありご注意ください。</li>
  </ol>
　設定するとビューアーのURLのハッシュ(#以降)が更新されているはずです。このURLは表示されている証明書を「設定」ボタンなど押さずに永続的に表示するのに使えます。議論などに活用してください。
</li>
<li>
ビューアーのURLのハッシュ(#以降)で指定する。ハッシュ以降には以下のデータが設定でき、それを永続的なURLとして使えます。
  <ol>
  <li>基本的にはBase64URLエンコーディングされた証明書を設定できます。</li>
  <li>Base64でも大丈夫です。</li>
  <li>そのうちPEMのテキストでも大丈夫にします。</li>
  <li>そのうちドメイン名でも大丈夫にします。</li>
  </ol>
</li>
</ol>

<h3>応用編</h3>
<ul>
<li>右上
  <ul>
  <li><i class="bi-question-circle"></i> - このヘルプを表示します。</li>
  <li><i class="bi-filetype-txt"></i> - 表示されている証明書をPEM形式でクリップボードにコピーします。</li>
  <li><i class="bi-filetype-json"></i> - 表示されている証明書をjsrsasign用JSON形式でパーズしたテキストをクリップボードにコピーします。</li>
  </ul>
</li>
<li>各フィールドのアイコン
  <ul>
  <li>有効期間の「<i class="bi-arrow-clockwise"></i>」 - 有効期間の表示形式を変更します。</li>
  <li>公開鍵情報の「<i class="bi-clipboard-plus"></i>」 - 公開鍵をPKCS#8 PEM形式でクリップボードにコピーします。</li>
  <li>署名値の「<i class="bi-clipboard-plus"></i>」 - 署名値の16進数テキストをクリップボードにコピーします。</li>
  </ul>
</li>
</ul>

<h3>今後近いうち</h3>
<ul>
<li>有名なOIDはちゃんと文字列併記できるようにしたい。</li>
<li>エラーメッセージを出さなすぎるのをなんとかしたい。</li>
</ul>

<h3>バグ・障害情報</h3>
<ul>
<li>いまのところ多分なし</li>
</ul>

<h3>変更履歴</h3>
<ul>
<li>2023.03.13 - jsrsasignがカスタム拡張に対応したのでqcStatements拡張に対応した</li>
<li>2023.03.13 - 表示未対応の拡張を拡張名だけ出すようにした</li>
<li>2023.02.25 - Peculiarの証明書ビューアー、lapo.itのASN.1 JavaScript decoderでも開けるようになった</li>
<li>2023.02.24 - SAN/IANのメールアドレス(rfc822)の表示に対応した。</li>
<li>2023.02.24 - ファイルを開く機能を追加しました。DERでもPEMでも表示できます。</li>
<li>2023.02.23 - 署名用公的個人認証証明書に対応してみました。</li>
</ul>

<h3>表示サンプル(別ウィンドウ)</h3>
<ul>
<li><a target="_blank" href="certview.html?#MIIEqDCCA5CgAwIBAgISBOrClKDmEDXYJU1aBPYaN8gCMA0GCSqGSIb3DQEBCwUAMDIxCzAJBgNVBAYTAlVTMRYwFAYDVQQKEw1MZXQncyBFbmNyeXB0MQswCQYDVQQDEwJSMzAeFw0yMzAyMDIwMDAwMjRaFw0yMzA1MDMwMDAwMjNaMBQxEjAQBgNVBAMTCWxlbmNyLm9yZzBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABDifbPJGYiP_M-_H5rtinl-h4YuCU4L1wj_u9Pdpbu7Wi1M3zO5gHTJFe-7q-cYpAIdJ2myBGsQ5s1dkQz341GyjggKfMIICmzAOBgNVHQ8BAf8EBAMCB4AwHQYDVR0lBBYwFAYIKwYBBQUHAwEGCCsGAQUFBwMCMAwGA1UdEwEB_wQCMAAwHQYDVR0OBBYEFFt27GM1SYH4TvQs_J9Bgo23CQpgMB8GA1UdIwQYMBaAFBQusxe3WFbLrlAJQOYfr52LFMLGMFUGCCsGAQUFBwEBBEkwRzAhBggrBgEFBQcwAYYVaHR0cDovL3IzLm8ubGVuY3Iub3JnMCIGCCsGAQUFBzAChhZodHRwOi8vcjMuaS5sZW5jci5vcmcvMG8GA1UdEQRoMGaCCWxlbmNyLm9yZ4IPbGV0c2VuY3J5cHQuY29tgg9sZXRzZW5jcnlwdC5vcmeCDXd3dy5sZW5jci5vcmeCE3d3dy5sZXRzZW5jcnlwdC5jb22CE3d3dy5sZXRzZW5jcnlwdC5vcmcwTAYDVR0gBEUwQzAIBgZngQwBAgEwNwYLKwYBBAGC3xMBAQEwKDAmBggrBgEFBQcCARYaaHR0cDovL2Nwcy5sZXRzZW5jcnlwdC5vcmcwggEEBgorBgEEAdZ5AgQCBIH1BIHyAPAAdQC3Pvsk35xNunXyOcW6WPRsXfxCz3qfNcSeHQmBJe20mQAAAYYPo5aAAAAEAwBGMEQCICeBFCrhXXVwTexcWfqJ6NZsQLTWnjOInS0e4RQU9xQ2AiBpiNQQKphE3t23Vb-FyZR0fmIhUA2VBmzwnYCcFiyJWgB3AHoyjFTYty22IOo44FIe6YQWcDIThU070ivBOlejUutSAAABhg-jlpEAAAQDAEgwRgIhAJR1zuY1wQGsUV_ugVNy4JRH8n1EE_KusruYwh_-_nBnAiEAsPCmQtcFM0Uznfs73Gnv3vthRHBsQQv_AWUD0EtT7tAwDQYJKoZIhvcNAQELBQADggEBAHqJL8ERVCIpAE15J6rIdUt7W-qqE6CrtIQOiadDNaUGPT_LfvvppYgluoeSayDsCO99k8haS4ml5CLQNN6JdBBT6yTg-4j9T0EpfqV0jiCnMcQsLHbGmjCAswDQpJ8-OUo8J5HSVf6w15JFTqx-w614_YP5VeTcD8upE6GIBw_YZLKFwBYzsUn4fjq9D3NJyoSw6XkmEs79X07J0xpzTTRsl3SNfmoBjtr_5zDIj1NTFEhPHJlyjUe09V_rYfNRRTpITstViq1_j4ey54plGuzYSyVzHIS4TH9fvZgrQbm7SiIS4GkaHINaHDP8vclhsSsKPGw-GtAiEiZfnzZFfwk">www.letsencrypt.orgサイトの証明書(2023.02.22時点)</a></li>
<li><a target="_blank" href="certview.html?#MIIDeTCCAmGgAwIBAgIBATANBgkqhkiG9w0BAQsFADBAMQswCQYDVQQGEwJVUzEfMB0GA1UEChMWVGVzdCBDZXJ0aWZpY2F0ZXMgMjAxMTEQMA4GA1UEAxMHR29vZCBDQTAeFw0xMDAxMDEwODMwMDBaFw0zMDEyMzEwODMwMDBaMFMxCzAJBgNVBAYTAlVTMR8wHQYDVQQKExZUZXN0IENlcnRpZmljYXRlcyAyMDExMSMwIQYDVQQDExpWYWxpZCBFRSBDZXJ0aWZpY2F0ZSBUZXN0MTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBANncdxgQEBhgQfvneBAP-IR3cO8tblU7EaaZUj9t9L2hl_o2Hm5EQhHIU_51hpteNxKIon3ZcQjUSTVxzkbPW9BZjmUf60I9yg7cTJDYVGnPXjiyIGDdg1Eu39vVWziRWi3PmjO0b5aQ5XYUYkNphBDPVEH5Neqe1FqXnV4QWb3g5MNZidfe8nmwh2sCwFmhKgCCFW9rEREAUzR0PfThzFZiouRl6COxgx1YUwiyMy2WvuV9M54QWidzU91dmOJLEVNYkY_qchHsu5TyDQ9QrfIWtRoAJDHlFb0XBpCqJLGs3QxSHvCLaqu49-3fY7TOlGi_XpbQRJbx-PR6Ogp5FVMCAwEAAaNrMGkwHwYDVR0jBBgwFoAUWAGEJBu8K1KUSj2lEHIUUfWvOskwHQYDVR0OBBYEFKg8CZ1n9thHuqLQ_BhyVohAbZWVMA4GA1UdDwEB_wQEAwIE8DAXBgNVHSAEEDAOMAwGCmCGSAFlAwIBMAEwDQYJKoZIhvcNAQELBQADggEBAB5a2Q-vYqW5Ury87AxhiBMBqgoPDUejnqmyFxv4o9ks0o04vjuyz9QxiM_OafSOx7lwBVHABofGlbT2avoxni3EF7Pt5XoZYRhujNHkDtqbbWyNBpDuLNF5WNiEzZtB0xji_pHGXwAnFGV7Evovvai_NI4tzxdMWFswDy5pZkUmJiGY0_OQrimHWk7Gvegofg-glOb_XLVcT92KYVkOBdL_xWnA04lK0cLlyPTICMP9KiNPhABcLEQtg4rCPSLHPGDyinjjG0Zl2pmP-GPB1HqgcKZ6pxCbnax_vhTwRCOHWKwQFejzoL8eJcs2qwJpWq7_wG6wQ54Inhk8pzBujcI">NIST PKITSのValid EE Certificate Test1証明書</a></li>
<li><a target="_blank" href="certview.html?#MIIHBDCCBeygAwIBAgIEBPEjRTANBgkqhkiG9w0BAQsFADCBiTELMAkGA1UEBhMCSlAxDTALBgNVBAoMBEpQS0kxIzAhBgNVBAsMGkpQS0kgZm9yIGRpZ2l0YWwgc2lnbmF0dXJlMUYwRAYDVQQLDD1KYXBhbiBBZ2VuY3kgZm9yIExvY2FsIEF1dGhvcml0eSBJbmZvcm1hdGlvbiBTeXN0ZW1zIChTQU1QTEUpMB4XDTIyMDEzMTIzNTk1OVoXDTI2MTIzMTIzNTk1OVowXzELMAkGA1UEBhMCSlAxETAPBgNVBAcMCFRva3lvLXRvMRYwFAYDVQQHDA1NdXNhc2hpbm8tc2hpMSUwIwYDVQQDDBwyMDIyMDEyMzEyMzQ1Njc4OTAxMjM0NTY3ODlBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAs0WbwsLgjNkqed0PaRdprPw5OrsmJnyd6e4AHueky7fj2KL6iRwMQTmhLBvKyaFkiY12BrrBq2WRLEWIy_dzdr5Ep4iSFMNon7MejiB-7ODe0KCNHxGTaaaM9HqbQ7N23DCgRHJVEiH53SdHiYfilpPuE6AcghYDetEK0qB4qnuPze8etbdfz6WMXexps2-4xVWKA1M4erzRxxTvLm6fN9jaYSkNcauSavGyfwVooRM8TE8aO3d0N3JKtXYzny3chlpfTRM93jW4p27HUvjDt6vjEC4Hgyq6CsYFvCEJTOS2KfVSAoI9DRtS2I8WlZ2SfLogM6Gck5muyOfzHtBhDQIDAQABo4IDmzCCA5cwDgYDVR0PAQH_BAQDAgbAMIHlBgNVHREEgd0wgdqgHwYKKoMIjJtVCAUFAaARDA_nlLDkuK3jgIDkuIDpg46gGQYKKoMIjJtVCAUFBKALDAkzMTk4NTEyMzGgEQYKKoMIjJtVCAUFA6ADDAExoEwGCiqDCIybVQgFBQWgPgw85p2x5Lqs6YO95q2m6JS16YeO5biC5ZCJ56Wl5a-65pys55S677yR5LiB55uu77yR77yQ55Wq77yR5Y-3oBUGCiqDCIybVQgFBQKgBwwFMDAwMDCgJAYKKoMIjJtVCAUFBqAWDBQwMDAwMDAwMDAwMDAwMDAwMDAwMDBJBgNVHSABAf8EPzA9MDsGCyqDCIybVQgFAQEUMCwwKgYIKwYBBQUHAgEWHmh0dHA6Ly93d3cuanBraS5nby5qcC9jcHMuaHRtbDCBvAYDVR0SBIG0MIGxpIGuMIGrMQswCQYDVQQGEwJKUDEnMCUGA1UECgwe5YWs55qE5YCL5Lq66KqN6Ki844K144O844OT44K5MTAwLgYDVQQLDCflhaznmoTlgIvkurroqo3oqLzjgrXjg7zjg5PjgrnnvbLlkI3nlKgxQTA_BgNVBAsMOOWcsOaWueWFrOWFseWbo-S9k-aDheWgseOCt-OCueODhuODoOapn-aniyjjgrXjg7Pjg5fjg6spMIG3BgNVHR8Ega8wgawwgamggaaggaOkgaAwgZ0xCzAJBgNVBAYTAkpQMQ0wCwYDVQQKDARKUEtJMSMwIQYDVQQLDBpKUEtJIGZvciBkaWdpdGFsIHNpZ25hdHVyZTEgMB4GA1UECwwXQ1JMIERpc3RyaWJ1dGlvbiBQb2ludHMxETAPBgNVBAsMCFRva3lvLXRvMSUwIwYDVQQDDBxNdXNhc2hpbm8tc2hpIENSTERQIChTQU1QTEUpMIG5BgNVHSMEgbEwga6AFLVf6YtD2huGnoowPsW7mtt4alP_oYGPpIGMMIGJMQswCQYDVQQGEwJKUDENMAsGA1UECgwESlBLSTEjMCEGA1UECwwaSlBLSSBmb3IgZGlnaXRhbCBzaWduYXR1cmUxRjBEBgNVBAsMPUphcGFuIEFnZW5jeSBmb3IgTG9jYWwgQXV0aG9yaXR5IEluZm9ybWF0aW9uIFN5c3RlbXMgKFNBTVBMRSmCBAEjRaswHQYDVR0OBBYEFPuy9pM1D_XXA7Aknw7Jmwv3Ej3eMA0GCSqGSIb3DQEBCwUAA4IBAQA6Gatp2jyjdfPIbfodISzaD_k__5fgSaiupV9DNhwDzf1J7BzPZI2yhEoNxpexz6gqjO_Ba0PHdeSG_C3o4HqqQRKbU_kFUqNXK9Ih9aIT1x-eAfGFb0-XFEuRUMi70bJVxyT6b3OOw1hTi08U6ipGGPXOgCT375U66ngEAH2FKnBKEnmBaQyisMmLjKrg1aU78OeHb7nIbqvZC-JCbnp_jKK_tBg-7kxHNS9pg1vOxdibgQPonTv6EYgqlb4bd60Gdy0AqttPwgxtsZ0AccXuCoic37BiY0I9Ehj-co5XJH-veXuB8hjWHG6IrdZa6lnCam9fIStw_Y3kSL8pQuV7">(署名用)公的個人認証証明書サンプル 吉祥寺の(仮名)田中さん</a></li>
<li><a target="_blank" href="file:///Users/user1/Dropbox/workuniq/pkitool/certview.html?#MIIExjCCA66gAwIBAgIEEjRWeDANBgkqhkiG9w0BAQsFADAuMQswCQYDVQQGEwJKUDENMAsGA1UECgwEVEVTVDEQMA4GA1UEAwwHVEVTVCBDQTAeFw0yMjEyMzEyMzU5NTlaFw0yNDEyMzEyMzU5NTlaMEwxCzAJBgNVBAYTAkpQMQ0wCwYDVQQKDARURVNUMS4wLAYDVQQDDCVURVNUIFVTRVIocWNTdGF0ZW1lbnRzIExFSSBSb2xlIFRlc3QpMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA33TqqLR3eeUmDtHS89qF3p4MP7Wfqt2Zjj3lZjLjjCGDvwr9cJNlNDiuKboODgUiT4ZdPWbOiMAfDcDzlOxA04DDnEFGAf-kDQiNSe2ZtqC7bnIc8-KSG_qOGQIVaay4Ucr6ovDkykO5Hxn7OU7sJp9TP9H0JH8zMQA6YzijYH9LsupTerrY3U6zyihVEDXXOv08vBHk50BMFJbE9iwFwnxCsU5-UZUZYw87Uu0n4LPFS9BT8tUIvAfnRXIEWCha3KbFWmdZQZlyrFw0buUEf0YN3_Q0auBkdbDR_ES2PbgKTJdkjc_rEeM0TxvOUf7HuUNOhrtAVEN1D5uuxE1WSwIDAQABo4IBzDCCAcgwDgYDVR0PAQH_BAQDAgbAMB8GA1UdIwQYMBaAFKE57sFy7vHQFBICQl6C5FQz42jtMB0GA1UdDgQWBBQHZPTEyQVu_0I_3QWhlTyW7WoTzTAJBgNVHRMEAjAAMDIGA1UdHwQrMCkwJ6AloCOGIWh0dHA6Ly9leGFtcGxlLmNvbS9ub3N1Y2hmaWxlLmNybDBjBggrBgEFBQcBAQRXMFUwLQYIKwYBBQUHMAKGIWh0dHA6Ly9leGFtcGxlLmNvbS9ub3N1Y2hmaWxlLmNydDAkBggrBgEFBQcwAYYYaHR0cDovL29jc3AuZXhhbXBsZS5jb20vMGAGA1UdIARZMFcwVQYDKgMEME4wKwYIKwYBBQUHAgEWH2h0dHBzOi8vZXhhbXBsZS5jb20vcmVwb3NpdG9yeS8wHwYIKwYBBQUHAgIwEwwRdGVzdCBwdXJwb3NlIG9ubHkwNwYIKwYBBQUHAQMEKzApMAgGBgQAjkYBATAIBgYEAI5GAQQwEwYGBACORgEGMAkGBwQAjkYBBgEwIwYJKwYBBAGDmCoBBBYTFDEyMzQ1Njc4OTAxMjM0NTY3OEFCMBIGCSsGAQQBg5gqAgQFEwNDRU8wDQYJKoZIhvcNAQELBQADggEBABquUmdN8jvVfC3UYxtyTCOUsvQRVHYPwHICIsMuG9nUMbcEsoukmJQglMqL1IQ0z-_WBAYD6MGJm8rXScXO01O_qmpDEX0VrTLGs1XGvYNLsRJ9BTkw9vo-IVmTLtmD28b088E5MEWO5pVSKkOLaj54vw2Rrurxp_QHPYrFSR3Z_kg8ipOLI_NY_b7GuaotEpCGVellRopkyOz7RMXdgBBQ2-AblFs5djNRh8Uy0xmwGgwj_SdfrPAm4uxm7Ish2cudRMjD9pp9rEiQT_T0ZEMmAp9rt6m0urkRxxhKv-T71oL4NdsT-dAKVWGHW2Vfkj2z-VR19FumXtwbH3ytoJA">適格証明書のサンプル(qcStatements,LEI,Roleのテスト)</a></li>
</ul>
</div>
</body>
</html>
